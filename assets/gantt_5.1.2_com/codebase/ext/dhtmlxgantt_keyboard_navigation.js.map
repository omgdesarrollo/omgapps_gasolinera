{"version":3,"sources":["webpack:///dhtmlxgantt_keyboard_navigation.js","webpack:///webpack/bootstrap c4a39cba6e1e70e8474e","webpack:///./sources/utils/dom_helpers.js","webpack:///./sources/ext/keyboard_navigation.js","webpack:///./sources/ext/keyboard_navigation/common/keyboard_shortcuts.js","webpack:///./sources/ext/keyboard_navigation/common/eventhandler.js","webpack:///./sources/ext/keyboard_navigation/common/trap_modal_focus.js","webpack:///./sources/ext/keyboard_navigation/elements/gantt_node.js","webpack:///./sources/ext/keyboard_navigation/elements/nav_node.js","webpack:///./sources/ext/keyboard_navigation/elements/header_cell.js","webpack:///./sources/ext/keyboard_navigation/elements/task_row.js","webpack:///./sources/ext/keyboard_navigation/elements/task_cell.js","webpack:///./sources/ext/keyboard_navigation/modals.js","webpack:///./sources/ext/keyboard_navigation/core.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","elementPosition","elem","top","left","right","bottom","getBoundingClientRect","box","body","document","docElem","documentElement","parentNode","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","y","Math","round","x","width","height","isVisible","node","display","visibility","getComputedStyle","style","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","a","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","toLowerCase","hasAttribute","getFocusableNodes","root","nodes","querySelectorAll","join","nodesArray","Array","slice","length","splice","getScrollSize","div","createElement","cssText","appendChild","clientWidth","removeChild","getClassName","className","baseVal","indexOf","_trimString","addClassName","removeClassName","split","regEx","RegExp","replace","toNode","getElementById","querySelector","insert","newone","_slave","innerHTML","child","firstChild","remove","getChildren","css","ch","childNodes","len","out","obj","push","getTargetNode","e","trg","tagName","event","target","srcElement","locateAttribute","attribute","str","String","trim","this","apply","locateClassName","classname","strict","undefined","ind","charAt","getRelativeEventPosition","ev","pageX","pageY","pos","clientX","clientY","isChildOf","parent","getNodePosition","insertNode","removeNode","getChildNodes","setupKeyNav","gantt","getScope","mode","scopes","$keyboardNavigation","GanttNode","headerCell","HeaderCell","taskRow","TaskRow","taskCell","config","keyboard_navigation","keyboard_navigation_cells","addShortcut","shortcut","handler","scope","scopeObject","bind","getShortcutHandler","commands","shortcuts","parse","findHandler","removeShortcut","unbind","focus","disp","dispatcher","enable","getActiveNode","focusNode","setDefaultNode","_compose","parts","arguments","res","domHelpers","getTaskNodeConstructor","TaskCell","mousedownHandler","locateTask","fromDomElement","activeNode","$task","taskId","columnIndex","delay","setActiveNode","$preventDefault","setTimeout","activeElement","getSelection","isTaskFocused","id","keyDownHandler","focusHandler","preventDefault","$container","blur","focusGlobalNode","reFocusActiveNode","code","domElement","getNode","attachEvent","eventRemove","setAttribute","removeAttribute","onReady","detachEvent","$data","tasksStore","getState","currentNode","_smart_render","updateRender","_redrawItems","renderers","items","focusedItemVisible","start_date","getTask","item","nodeConstructor","oldId","newId","interval","setInterval","focusElement","_locate_css","disable","clearInterval","Gantt","plugin","createCommand","modifiers","shift","alt","ctrl","meta","keyCode","expr","getExpressions","words","getWords","command","j","commandKeys","specialKeys","charCodeAt","getCommandFromEvent","domEvent","shiftKey","altKey","ctrlKey","metaKey","which","printableKey","fromCharCode","getHashFromEvent","getHash","junctionChar","term","combinationChar","backspace","tab","enter","esc","space","up","down","home","end","pageup","pagedown","delete","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","hash","doAction","returnValue","bindAll","map","initKeys","keys","trapFocus","focusable","currentFocus","currentIndex","lastItem","firstItem","scrollHorizontal","dir","date","dateFromPos","getScrollState","step","add","scale_unit","scrollTo","posFromDate","scrollVertical","row_height","alt+left","alt+right","alt+up","alt+down","ctrl+z","undo","ctrl+r","redo","KeyNavNode","isValid","fallback","moveTo","element","compareTo","b","canStringifyThis","toString","canStringifyThat","$eventAttached","index","show_grid","getVisibleTaskCount","getGridColumns","visibleColumns","el","cellElement","previousSibling","$grid_scale","columns","rootLevel","root_id","enter, space","click","ctrl+enter","createTask","isTaskExists","getTaskIndex","header","nextIndex","getTaskByIndex","locate","isTaskVisible","$grid","task_attribute","getTaskNode","keptFocus","viewWidth","getTaskPosition","scroll","inner_width","viewHeight","$grid_data","$task_data","inner_height","show_chart","task_scroll_offset","nextElement","prevTask","getPrev","nextTask","getNext","selected_task","selectTask","unselectTask","ctrl+left","close","ctrl+right","open","$click","buttons","showLightbox","isModal","modalsStack","afterPopup","startModal","endModal","pop","isTopModal","currentTarget","traceLightbox","getLightbox","saveFocus","restoreFocus","isActive","globalNode","getDefaultNode","inputs","blurNode","focusChanged","ganttNode","_timeout","callback","clearTimeout"],"mappings":"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","file":"dhtmlxgantt_keyboard_navigation.js","sourcesContent":["/*!\n * @license\n * \n * dhtmlxGantt v.5.1.2 Professional\n * This software is covered by DHTMLX Commercial License. Usage without proper license is prohibited.\n * \n * (c) Dinamenta, UAB.\n * \n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 13);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = '';\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp('\\\\s?\\\\b' + name[i] + '\\\\b(?![-_\\.])', \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave = document.createElement(\"div\");\nfunction insert(node, newone) {\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\tvar trg = getTargetNode(e);\n\tvar css = '';\n\tvar test = false;\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tif (ev.pageX || ev.pageY)\n\t\tvar pos = {x: ev.pageX, y: ev.pageY};\n\n\tvar d = document.documentElement;\n\tvar pos = {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop\n\t};\n\n\tvar box = elementPosition(node);\n\tpos.x = pos.x - box.x + node.scrollLeft;\n\tpos.y = pos.y - box.y + node.scrollTop;\n\treturn pos;\n}\n\n\nfunction isChildOf(child, parent){\n\tif(!child || !parent){\n\t\treturn false;\n\t}\n\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\n\treturn child === parent;\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n};\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(14);\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function(){\n\tfunction setupKeyNav(gantt){\n\t\tgantt.config.keyboard_navigation = true;\n\t\tgantt.config.keyboard_navigation_cells = false;\n\n\t\tgantt.addShortcut = function(shortcut, handler, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\n\t\t\t}\n\t\t};\n\n\t\tgantt.getShortcutHandler = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tvar commands = gantt.$keyboardNavigation.shortcuts.parse(shortcut);\n\t\t\t\tif(commands.length){\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tgantt.removeShortcut = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\n\t\t\t}\n\t\t};\n\n\t\tgantt.focus = function(){\n\n\t\t\tvar disp = gantt.$keyboardNavigation.dispatcher;\n\t\t\tdisp.enable();\n\t\t\tif(!disp.getActiveNode()){\n\t\t\t\tdisp.setDefaultNode();\n\t\t\t}else{\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\n\t\t\t}\n\n\t\t};\n\n\n\n\t\tfunction getScope(mode){\n\t\t\tvar scopes = {\n\t\t\t\t\"gantt\":gantt.$keyboardNavigation.GanttNode,\n\t\t\t\t\"headerCell\": gantt.$keyboardNavigation.HeaderCell,\n\t\t\t\t\"taskRow\": gantt.$keyboardNavigation.TaskRow,\n\t\t\t\t\"taskCell\": gantt.$keyboardNavigation.HeaderCell\n\t\t\t};\n\n\t\t\treturn scopes[mode] || scopes.gantt;\n\t\t}\n\n\t\tgantt.$keyboardNavigation = {};\n\n\t\tgantt._compose = function(){\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\n\t\t\tvar res = {};\n\t\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\t\tvar obj = parts[i];\n\t\t\t\tif(typeof obj == \"function\"){\n\t\t\t\t\tobj = new obj();\n\t\t\t\t}\n\n\t\t\t\tfor(var p in obj){\n\t\t\t\t\tres[p] = obj[p];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\n\t\t__webpack_require__ (15)(gantt);\n\t\t__webpack_require__ (16)(gantt);\n\t\t__webpack_require__ (17)(gantt);\n\t\t__webpack_require__ (18)(gantt);\n\t\t__webpack_require__ (19)(gantt);\n\t\t__webpack_require__ (20)(gantt);\n\t\t__webpack_require__ (21)(gantt);\n\t\t__webpack_require__ (22)(gantt);\n\t\t__webpack_require__ (23)(gantt);\n\t\t__webpack_require__ (24)(gantt);\n\n\t\tvar domHelpers = __webpack_require__(0);\n\n\t\t(function(){\n\t\t\tvar dispatcher = gantt.$keyboardNavigation.dispatcher;\n\n\t\t\tdispatcher.isTaskFocused = function(id){\n\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskRow || node instanceof gantt.$keyboardNavigation.TaskCell) {\n\t\t\t\t\tif (node.taskId == id) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tvar keyDownHandler = function(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\treturn dispatcher.keyDownHandler(e);\n\t\t\t};\n\n\t\t\tvar focusHandler = function(e){\n\t\t\t\tif(dispatcher.$preventDefault){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tgantt.$container.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}else{\n\t\t\t\t\tdispatcher.focusGlobalNode();\n\t\t\t\t}\n\n\t\t\t};\n\n\n\t\t\tvar reFocusActiveNode = function(activeNode, code){\n\t\t\t\tvar domElement = activeNode.getNode();\n\t\t\t\tvar top, left;\n\t\t\t\tif(domElement && domElement.parentNode){\n\t\t\t\t\ttop = domElement.parentNode.scrollTop;\n\t\t\t\t\tleft = domElement.parentNode.scrollLeft;\n\n\t\t\t\t}\n\n\t\t\t\tcode();\n\n\t\t\t\tif(domElement && domElement.parentNode){\n\t\t\t\t\tdomElement.parentNode.scrollTop = top;\n\t\t\t\t\tdomElement.parentNode.scrollLeft = left;\n\t\t\t\t}\n\t\t\t};\n\n\n\t\t\tgantt.attachEvent(\"onDataRender\", function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\t\t\t\tif(dispatcher.isEnabled()){\n\t\t\t\t\tvar activeNode = dispatcher.getActiveNode();\n\t\t\t\t\tif(activeNode){\n\t\t\t\t\t\treFocusActiveNode(activeNode, function(){activeNode.focus(true);});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\n\t\t\t\tgantt.eventRemove(document, \"keydown\", keyDownHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"focus\", focusHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"mousedown\", mousedownHandler);\n\n\t\t\t\tif(gantt.config.keyboard_navigation){\n\n\t\t\t\t\tgantt.event(document, \"keydown\", keyDownHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"focus\", focusHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"mousedown\", mousedownHandler);\n\t\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\n\t\t\t\t}else{\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction getTaskNodeConstructor(){\n\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\treturn gantt.$keyboardNavigation.TaskCell;\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.$keyboardNavigation.TaskRow;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction mousedownHandler(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\n\t\t\t\tvar focusNode;\n\t\t\t\tvar locateTask = dispatcher.fromDomElement(e);\n\t\t\t\tif(locateTask){\n\t\t\t\t\t//var node = getTaskNodeConstructor();\n\t\t\t\t\tif(dispatcher.activeNode instanceof gantt.$keyboardNavigation.TaskCell && domHelpers.isChildOf(e.target, gantt.$task)){\n\t\t\t\t\t\tlocateTask = new gantt.$keyboardNavigation.TaskCell(locateTask.taskId, dispatcher.activeNode.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tfocusNode = locateTask;\n\t\t\t\t}\n\n\t\t\t\tif(focusNode) {\n\t\t\t\t\tif (!dispatcher.isEnabled()) {\n\t\t\t\t\t\tdispatcher.activeNode = focusNode;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatcher.delay(function () {\n\t\t\t\t\t\t\tdispatcher.setActiveNode(focusNode);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// empty click should drop focus from gantt, insert of reselecting default node\n\t\t\t\t\tdispatcher.$preventDefault = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tdispatcher.$preventDefault = false;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar onReady = gantt.attachEvent(\"onGanttReady\", function(){\n\t\t\t\t// restore focus on repainted tasks\n\t\t\t\tgantt.detachEvent(onReady);\n\n\t\t\t\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(id){\n\t\t\t\t\tvar state = gantt.getState();\n\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\tif(currentNode && currentNode.taskId == id){\n\t\t\t\t\t\t\treFocusActiveNode(currentNode, function(){dispatcher.focusNode(currentNode, true);});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(gantt._smart_render){\n\t\t\t\t\tvar updateRender = gantt._smart_render._redrawItems;\n\t\t\t\t\tgantt._smart_render._redrawItems = function(renderers, items){\n\t\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\t\tif(currentNode && currentNode.taskId !== undefined){\n\t\t\t\t\t\t\t\tvar focusedItemVisible = false;\n\t\t\t\t\t\t\t\tfor(var i = 0; i < items.length; i++){\n\t\t\t\t\t\t\t\t\tif(items[i].id == currentNode.taskId && items[i].start_date){\n\t\t\t\t\t\t\t\t\t\tfocusedItemVisible = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(!focusedItemVisible){\n\t\t\t\t\t\t\t\t\titems.push(gantt.getTask(currentNode.taskId));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar res = updateRender.apply(this, arguments);\n\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\n\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function(id,item){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tif(dispatcher.isEnabled()){\n\n\t\t\t\t\tvar columnIndex = 0;\n\t\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskCell){\n\t\t\t\t\t\tcolumnIndex = node.columnIndex;\n\t\t\t\t\t}\n\t\t\t\t\tvar nodeConstructor = getTaskNodeConstructor();\n\t\t\t\t\tdispatcher.setActiveNode(new nodeConstructor(id, columnIndex));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", function(oldId, newId){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\n\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\tif(dispatcher.isTaskFocused(oldId)){\n\t\t\t\t\tnode.taskId = newId;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tfunction getActiveNode(){\n\n\t\t\t\tvar activeElement = document.activeElement;\n\t\t\t\tif(activeElement === document.body && document.getSelection){\n\t\t\t\t\tactiveElement = document.getSelection().focusNode || document.body;\n\t\t\t\t}\n\n\t\t\t\treturn activeElement;\n\t\t\t}\n\n\t\t\tvar interval = setInterval(function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\tvar enable;\n\t\t\t\tvar focusElement = getActiveNode();\n\n\t\t\t\tvar parent = gantt.$container;\n\t\t\t\t// halt key nav when focus is outside gantt or in quick info popup\n\t\t\t\tif(!focusElement || gantt._locate_css(focusElement, \"gantt_cal_quick_info\")){\n\t\t\t\t\tenable = false;\n\t\t\t\t}else{\n\t\t\t\t\twhile(focusElement != parent &&  focusElement){\n\t\t\t\t\t\tfocusElement = focusElement.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(focusElement == parent){\n\t\t\t\t\t\tenable = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tenable = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.enable();\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.disable();\n\t\t\t\t}\n\n\t\t\t}, 500);\n\n\t\t\tgantt.attachEvent(\"onDestroy\", function(){\n\t\t\t\tclearInterval(interval);\n\t\t\t});\n\n\t\t})();\n\n\t}\n\n\n\tif(window.Gantt){\n\t\twindow.Gantt.plugin(setupKeyNav);\n\t}else{\n\t\tsetupKeyNav(window.gantt);\n\t}\n})();\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.shortcuts = {\n\t\tcreateCommand: function () {\n\t\t\treturn {\n\t\t\t\tmodifiers: {\n\t\t\t\t\t\"shift\": false,\n\t\t\t\t\t\"alt\": false,\n\t\t\t\t\t\"ctrl\": false,\n\t\t\t\t\t\"meta\": false\n\t\t\t\t},\n\t\t\t\tkeyCode: null\n\t\t\t};\n\t\t},\n\t\tparse: function (shortcut) {\n\t\t\tvar commands = [];\n\n\t\t\tvar expr = this.getExpressions(this.trim(shortcut));\n\t\t\tfor (var i = 0; i < expr.length; i++) {\n\t\t\t\tvar words = this.getWords(expr[i]);\n\n\t\t\t\tvar command = this.createCommand();\n\n\t\t\t\tfor (var j = 0; j < words.length; j++) {\n\t\t\t\t\tif (this.commandKeys[words[j]]) {\n\t\t\t\t\t\tcommand.modifiers[words[j]] = true;\n\t\t\t\t\t} else if (this.specialKeys[words[j]]) {\n\t\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcommands.push(command);\n\t\t\t}\n\t\t\treturn commands;\n\t\t},\n\n\t\tgetCommandFromEvent: function (domEvent) {\n\t\t\tvar command = this.createCommand();\n\t\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\n\t\t\tcommand.modifiers.alt = !!domEvent.altKey;\n\t\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\n\t\t\tcommand.modifiers.meta = !!domEvent.metaKey;\n\t\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\n\n\t\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\n\t\t\t\t// numpad keys 96-105 -> 48-57\n\t\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\n\t\t\t}\n\n\t\t\tvar printableKey = String.fromCharCode(command.keyCode);\n\t\t\tif (printableKey) {\n\t\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\n\t\t\t}\n\t\t\treturn command;\n\t\t},\n\n\t\tgetHashFromEvent: function (domEvent) {\n\t\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\n\t\t},\n\n\t\tgetHash: function (command) {\n\t\t\tvar parts = [];\n\t\t\tfor (var i in command.modifiers) {\n\t\t\t\tif (command.modifiers[i]) {\n\t\t\t\t\tparts.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts.push(command.keyCode);\n\n\t\t\treturn parts.join(this.junctionChar);\n\t\t},\n\n\t\tgetExpressions: function (shortcut) {\n\t\t\treturn shortcut.split(this.junctionChar);\n\t\t},\n\t\tgetWords: function (term) {\n\t\t\treturn term.split(this.combinationChar);\n\t\t},\n\t\ttrim: function (shortcut) {\n\t\t\treturn shortcut.replace(/\\s/g, \"\");\n\t\t},\n\t\tjunctionChar: \",\",\n\t\tcombinationChar: \"+\",\n\t\tcommandKeys: {\n\t\t\t\"shift\": 16,\n\t\t\t\"alt\": 18,\n\t\t\t\"ctrl\": 17,\n\t\t\t\"meta\": true\n\t\t},\n\t\tspecialKeys: {\n\t\t\t\"backspace\": 8,\n\t\t\t\"tab\": 9,\n\t\t\t\"enter\": 13,\n\t\t\t\"esc\": 27,\n\t\t\t\"space\": 32,\n\t\t\t\"up\": 38,\n\t\t\t\"down\": 40,\n\t\t\t\"left\": 37,\n\t\t\t\"right\": 39,\n\t\t\t\"home\": 36,\n\t\t\t\"end\": 35,\n\t\t\t\"pageup\": 33,\n\t\t\t\"pagedown\": 34,\n\t\t\t\"delete\": 46,\n\t\t\t\"insert\": 45,\n\t\t\t\"plus\": 107,\n\t\t\t\"f1\": 112,\n\t\t\t\"f2\": 113,\n\t\t\t\"f3\": 114,\n\t\t\t\"f4\": 115,\n\t\t\t\"f5\": 116,\n\t\t\t\"f6\": 117,\n\t\t\t\"f7\": 118,\n\t\t\t\"f8\": 119,\n\t\t\t\"f9\": 120,\n\t\t\t\"f10\": 121,\n\t\t\t\"f11\": 122,\n\t\t\t\"f12\": 123\n\t\t}\n\t};\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.EventHandler = {\n\t\t_handlers: null,\n\t\tfindHandler: function (command) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\t\t\tvar hash = shortcuts.getHash(command);\n\n\t\t\treturn this._handlers[hash];\n\t\t},\n\n\t\tdoAction: function (command, e) {\n\t\t\tvar handler = this.findHandler(command);\n\t\t\tif (handler) {\n\t\t\t\thandler.call(this, e);\n\n\t\t\t\tif (e.preventDefault) e.preventDefault();\n\t\t\t\telse e.returnValue = false;\n\n\t\t\t}\n\t\t},\n\t\tbind: function (shortcut, handler) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\n\t\t\t}\n\t\t},\n\t\tunbind: function (shortcut) {\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tif (this._handlers[shortcuts.getHash(commands[i])]) {\n\t\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tbindAll: function (map) {\n\t\t\tfor (var i in map) {\n\t\t\t\tthis.bind(i, map[i]);\n\t\t\t}\n\t\t},\n\t\tinitKeys: function () {\n\t\t\tif (!this._handlers)\n\t\t\t\tthis._handlers = {};\n\t\t\tif (this.keys) {\n\t\t\t\tthis.bindAll(this.keys);\n\t\t\t}\n\t\t}\n\t};\n\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function(gantt) {\n\n\t(function () {\n\t\tvar domHelpers = __webpack_require__(0);\n\t\tgantt.$keyboardNavigation.getFocusableNodes = domHelpers.getFocusableNodes;\n\n\t\tgantt.$keyboardNavigation.trapFocus = function trapFocus(root, e) {\n\t\t\tif (e.keyCode != 9) return false;\n\n\t\t\tvar focusable = gantt.$keyboardNavigation.getFocusableNodes(root);\n\t\t\tvar currentFocus = document.activeElement;\n\t\t\tvar currentIndex = -1;\n\t\t\tfor (var i = 0; i < focusable.length; i++) {\n\t\t\t\tif (focusable[i] == currentFocus) {\n\t\t\t\t\tcurrentIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.shiftKey) {\n\t\t\t\t// back tab\n\t\t\t\tif (currentIndex <= 0) {\n\t\t\t\t\t// go to the last element if we focused on the first\n\t\t\t\t\tvar lastItem = focusable[focusable.length - 1];\n\t\t\t\t\tif (lastItem) {\n\t\t\t\t\t\tlastItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// forward tab\n\t\t\t\tif (currentIndex >= focusable.length - 1) {\n\t\t\t\t\t// forward tab from last element should go back to the first element\n\t\t\t\t\tvar firstItem = focusable[0];\n\t\t\t\t\tif (firstItem) {\n\t\t\t\t\t\tfirstItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t})();\n\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.GanttNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.GanttNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\n\t\t\tfocus: function () {\n\t\t\t\tgantt.focus();\n\t\t\t},\n\n\t\t\tblur: function () {\n\n\t\t\t},\n\n\t\t\tdisable: function () {\n\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\t\t\t},\n\t\t\tenable: function () {\n\t\t\t\tif (gantt.$container)\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t},\n\t\t\tisEnabled: function () {\n\t\t\t\treturn gantt.$container.hasAttribute(\"tabindex\");\n\t\t\t},\n\n\t\t\tscrollHorizontal: function scrollHorizontal(dir) {\n\t\t\t\tvar date = gantt.dateFromPos(gantt.getScrollState().x);\n\t\t\t\tvar step = dir < 0 ? -gantt.config.step : gantt.config.step;\n\t\t\t\tdate = gantt.date.add(date, step, gantt.config.scale_unit);\n\t\t\t\tgantt.scrollTo(gantt.posFromDate(date));\n\t\t\t},\n\n\t\t\tscrollVertical: function scrollVertical(dir) {\n\t\t\t\tvar top = gantt.getScrollState().y;\n\t\t\t\tvar step = gantt.config.row_height;\n\t\t\t\tgantt.scrollTo(null, top + (dir < 0 ? -1 : 1) * step);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"alt+left\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+right\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(1);\n\t\t\t\t},\n\t\t\t\t\"alt+up\": function (e) {\n\t\t\t\t\tthis.scrollVertical(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+down\": function (e) {\n\t\t\t\t\tthis.scrollVertical(1);\n\t\t\t\t},\n\n\t\t\t\t// undo\n\t\t\t\t\"ctrl+z\": function () {\n\t\t\t\t\tif (gantt.undo) gantt.undo();\n\t\t\t\t},\n\n\t\t\t\t// redo\n\t\t\t\t\"ctrl+r\": function () {\n\t\t\t\t\tif (gantt.redo) gantt.redo();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.GanttNode.prototype.bindAll(gantt.$keyboardNavigation.GanttNode.prototype.keys);\n\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.KeyNavNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.KeyNavNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\t\t\tisValid: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tmoveTo: function (element) {\n\t\t\t\tgantt.$keyboardNavigation.dispatcher.setActiveNode(element);\n\t\t\t},\n\n\t\t\tcompareTo: function (b) {\n\t\t\t\t// good enough comparison of two random objects\n\t\t\t\tif (!b) return false;\n\t\t\t\tfor (var i in this) {\n\t\t\t\t\tif (!!this[i] != !!b[i]) return false;\n\n\t\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\n\t\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\n\t\t\t\t\tif (canStringifyThat != canStringifyThis) return false;\n\t\t\t\t\tif (!(canStringifyThat && canStringifyThis)) {\n\t\t\t\t\t\tif (b[i] != this[i]) return false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (b[i].toString() != this[i].toString())\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t},\n\t\t\tfocus: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\tif(!node.$eventAttached){\n\t\t\t\t\t\tnode.$eventAttached = true;\n\t\t\t\t\t\tgantt.event(node, \"focus\",function(e){\n\t\t\t\t\t\t\te = e || event;\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}, false);\n\t\t\t\t\t}\n\t\t\t\t\t//node.className += \" gantt_focused\";\n\t\t\t\t\tif (node.focus) node.focus();\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tblur: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\t//node.className = (node.className || \"\").replace(/ ?gantt_focused/g, \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function(gantt) {\n\tvar domHelpers = __webpack_require__(0);\n\n\tgantt.$keyboardNavigation.HeaderCell = function (index) {\n\t\tthis.index = index || 0;\n\t};\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\n\t\t\tisValid: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount())\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !!gantt.getGridColumns()[this.index] || !gantt.getVisibleTaskCount();\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow();\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\tvar index = this.index;\n\t\t\t\twhile (index >= 0) {\n\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tvar cellElement = domHelpers.locateClassName(el, \"gantt_grid_head_cell\");\n\t\t\t\tif(cellElement){\n\t\t\t\t\tvar index = 0;\n\t\t\t\t\twhile(cellElement && cellElement.previousSibling){\n\t\t\t\t\t\tcellElement = cellElement.previousSibling;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tvar cells = gantt.$grid_scale.childNodes;\n\t\t\t\treturn cells[this.index];\n\t\t\t},\n\n\n\t\t\tkeys: {\n\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.index > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.index < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar taskRow;\n\t\t\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\t\t\tif (rootLevel[0]) {\n\t\t\t\t\t\ttaskRow = rootLevel[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (taskRow) {\n\t\t\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(taskRow, this.index));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(taskRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(0));\n\t\t\t\t},\n\n\n\t\t\t\t// press header button\n\t\t\t\t\"enter, space\": function () {\n\t\t\t\t\tvar node = document.activeElement;\n\t\t\t\t\tnode.click();\n\t\t\t\t},\n\n\t\t\t\t// add new task\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype.bindAll(gantt.$keyboardNavigation.HeaderCell.prototype.keys);\n\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.TaskRow = function (taskId) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tif (gantt.isTaskExists(this.taskId)) {\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t\t}\n\t};\n\n\tgantt.$keyboardNavigation.TaskRow.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\t\t\t\treturn gantt.isTaskExists(this.taskId) && (gantt.getTaskIndex(this.taskId) > -1);\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.getVisibleTaskCount()) {\n\t\t\t\t\tvar header = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\tif (!header.isValid()) return null;\n\t\t\t\t\telse return header;\n\t\t\t\t} else {\n\n\t\t\t\t\tvar nextIndex = -1;\n\t\t\t\t\tif (gantt.getTaskByIndex(this.index - 1)) {\n\t\t\t\t\t\tnextIndex = this.index - 1;\n\t\t\t\t\t} else if (gantt.getTaskByIndex(this.index + 1)) {\n\t\t\t\t\t\tnextIndex = this.index + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar index = this.index;\n\t\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\t\tif (gantt.getTaskByIndex(index) !== undefined) {\n\t\t\t\t\t\t\t\tnextIndex = index;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (nextIndex > -1) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(nextIndex).id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tif(gantt.config.keyboard_navigation_cells){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar taskId = gantt.locate(el);\n\t\t\t\tif(gantt.isTaskExists(taskId)){\n\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(taskId);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\treturn gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfocus: function (keptFocus) {\n\t\t\t\tif(!keptFocus) {\n\t\t\t\t\tvar pos = gantt.getTaskPosition(gantt.getTask(this.taskId));\n\t\t\t\t\tvar height = gantt.config.row_height;\n\t\t\t\t\tvar scroll = gantt.getScrollState();\n\n\t\t\t\t\tvar viewWidth;\n\t\t\t\t\tif(gantt.$task){\n\t\t\t\t\t\tviewWidth = gantt.$task.offsetWidth;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tviewWidth = scroll.inner_width;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar viewHeight;\n\t\t\t\t\tif(gantt.$grid_data || gantt.$task_data){\n\t\t\t\t\t\tviewHeight = (gantt.$grid_data || gantt.$task_data).offsetHeight;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tviewHeight = scroll.inner_height;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (pos.top < scroll.y || pos.top + height > (scroll.y + viewHeight)) {\n\n\t\t\t\t\t\tgantt.scrollTo(null, pos.top - height * 5);\n\n\t\t\t\t\t} else if (gantt.config.show_chart && (pos.left < scroll.x || pos.left > (scroll.x + viewWidth))) {\n\t\t\t\t\t\tgantt.scrollTo(pos.left - gantt.config.task_scroll_offset);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgantt.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this, [keptFocus]);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(0).id));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"up\": function () {\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskRow(prevTask);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(nextTask));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// select\n\t\t\t\t\"space\": function (e) {\n\t\t\t\t\tif (gantt.getState().selected_task != this.taskId) {\n\t\t\t\t\t\tgantt.selectTask(this.taskId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt.unselectTask(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// collapse\n\t\t\t\t\"ctrl+left\": function (e) {\n\t\t\t\t\tgantt.close(this.taskId);\n\t\t\t\t},\n\t\t\t\t// expand\n\t\t\t\t\"ctrl+right\": function (e) {\n\t\t\t\t\tgantt.open(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// delete task\n\t\t\t\t\"delete\": function (e) {\n\t\t\t\t\tgantt.$click.buttons[\"delete\"](this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// open lightbox\n\t\t\t\t\"enter\": function () {\n\t\t\t\t\tgantt.showLightbox(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// add subtask\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\tgantt.$keyboardNavigation.TaskRow.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function(gantt) {\n\tvar domHelpers = __webpack_require__(0);\n\n\tgantt.$keyboardNavigation.TaskCell = function (taskId, index) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tthis.columnIndex = index || 0;\n\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t};\n\n\tgantt.$keyboardNavigation.TaskCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\n\t\t\t\treturn gantt.$keyboardNavigation.TaskRow.prototype.isValid.call(this) && !!gantt.getGridColumns()[this.columnIndex];\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tvar node = gantt.$keyboardNavigation.TaskRow.prototype.fallback.call(this);\n\t\t\t\tif (node instanceof gantt.$keyboardNavigation.TaskRow) {\n\t\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\t\tvar index = this.columnIndex;\n\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t}\n\t\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(node.taskId, index);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tif(!gantt.config.keyboard_navigation_cells){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar taskId = gantt.locate(el);\n\t\t\t\tif(gantt.isTaskExists(taskId)){\n\t\t\t\t\tvar index = 0;\n\t\t\t\t\tvar cellElement = domHelpers.locateClassName(el, \"gantt_cell\");\n\t\t\t\t\tif(cellElement){\n\t\t\t\t\t\twhile(cellElement && cellElement.previousSibling){\n\t\t\t\t\t\t\tcellElement = cellElement.previousSibling;\n\t\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(taskId, index);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\tvar row = gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t\treturn row.childNodes[this.columnIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"up\": function () {\n\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell(this.columnIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskCell(prevTask, this.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(nextTask, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.columnIndex > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.columnIndex < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, 0));\n\t\t\t\t},\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(0).id, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskCell.prototype.keys);\n\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\t(function () {\n\t\tvar modalsStack = [];\n\n\t\tfunction isModal() {\n\t\t\treturn !!modalsStack.length;\n\t\t}\n\n\t\tfunction afterPopup(box) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!isModal())\n\t\t\t\t\tgantt.focus();\n\t\t\t}, 1);\n\t\t}\n\n\t\tfunction startModal(box) {\n\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\tgantt.event(box, \"keydown\", trapFocus);\n\t\t\tmodalsStack.push(box);\n\t\t\t//gantt.$keyboardNavigation.dispatcher.disable();\n\t\t}\n\n\t\tfunction endModal() {\n\t\t\tvar box = modalsStack.pop();\n\t\t\tif (box) {\n\t\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\t}\n\t\t\tafterPopup(box);\n\n\t\t}\n\n\n\t\tfunction isTopModal(box) {\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\n\t\t}\n\n\t\tfunction trapFocus(event) {\n\t\t\tvar event = event || window.event;\n\t\t\tvar target = event.currentTarget;\n\t\t\tif (!isTopModal(target)) return;\n\n\t\t\tgantt.$keyboardNavigation.trapFocus(target, event);\n\t\t}\n\n\t\tfunction traceLightbox() {\n\t\t\tstartModal(gantt.getLightbox());\n\t\t}\n\n\t\tgantt.attachEvent(\"onLightbox\", traceLightbox);\n\t\tgantt.attachEvent(\"onAfterLightbox\", endModal);\n\t\tgantt.attachEvent(\"onLightboxChange\", function () {\n\t\t\tendModal();\n\t\t\ttraceLightbox();\n\t\t});\n\n\n\t\tgantt.attachEvent(\"onAfterQuickInfo\", function () {\n\t\t\tafterPopup();\n\t\t});\n\n\t\tgantt.attachEvent(\"onMessagePopup\", function (box) {\n\t\t\tsaveFocus();\n\t\t\tstartModal(box);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterMessagePopup\", function () {\n\t\t\tendModal();\n\t\t\trestoreFocus();\n\t\t});\n\n\t\tvar focusElement = null;\n\n\t\tfunction saveFocus() {\n\t\t\tfocusElement = document.activeElement;\n\t\t}\n\n\t\tfunction restoreFocus() {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (focusElement) {\n\t\t\t\t\tfocusElement.focus();\n\t\t\t\t\tfocusElement = null;\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\n\t\tgantt.$keyboardNavigation.isModal = isModal;\n\n\n\t})();\n\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.dispatcher = {\n\t\tisActive: false,\n\t\tactiveNode: null,\n\t\tglobalNode: new gantt.$keyboardNavigation.GanttNode(),\n\n\t\tenable: function () {\n\t\t\tthis.isActive = true;\n\t\t\tthis.globalNode.enable();\n\t\t\tthis.setActiveNode(this.getActiveNode());\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tthis.isActive = false;\n\t\t\tthis.globalNode.disable();\n\t\t},\n\n\t\tisEnabled: function () {\n\t\t\treturn !!this.isActive;\n\t\t},\n\n\t\tgetDefaultNode: function () {\n\t\t\tvar node;\n\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskCell();\n\t\t\t} else {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskRow();\n\t\t\t}\n\n\t\t\tif (!node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tsetDefaultNode: function () {\n\t\t\tthis.setActiveNode(this.getDefaultNode());\n\t\t},\n\n\t\tgetActiveNode: function () {\n\t\t\tvar node = this.activeNode;\n\t\t\tif (node && !node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tfromDomElement: function(e){\n\t\t\tvar inputs = [\n\t\t\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t\t\tgantt.$keyboardNavigation.TaskCell,\n\t\t\t\tgantt.$keyboardNavigation.HeaderCell\n\t\t\t];\n\t\t\tfor(var i = 0; i < inputs.length; i++){\n\t\t\t\tif(inputs[i].prototype.fromDomElement){\n\t\t\t\t\tvar node = inputs[i].prototype.fromDomElement(e);\n\t\t\t\t\tif(node) return node;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tfocusGlobalNode: function () {\n\t\t\tthis.blurNode(this.globalNode);\n\t\t\tthis.focusNode(this.globalNode);\n\t\t},\n\n\t\tsetActiveNode: function (el) {\n\t\t\tvar focusChanged = true;\n\t\t\tif (this.activeNode) {\n\t\t\t\tif (this.activeNode.compareTo(el)) {\n\t\t\t\t\tfocusChanged = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isEnabled()) {\n\t\t\t\tif(focusChanged)\n\t\t\t\t\tthis.blurNode(this.activeNode);\n\n\t\t\t\tthis.activeNode = el;\n\t\t\t\tthis.focusNode(this.activeNode, !focusChanged);\n\t\t\t}\n\t\t},\n\n\t\tfocusNode: function (el, keptFocus) {\n\t\t\tif (el && el.focus) {\n\t\t\t\tel.focus(keptFocus);\n\t\t\t}\n\t\t},\n\t\tblurNode: function (el) {\n\t\t\tif (el && el.blur) {\n\t\t\t\tel.blur();\n\t\t\t}\n\t\t},\n\n\t\tkeyDownHandler: function (e) {\n\n\t\t\tif (gantt.$keyboardNavigation.isModal())\n\t\t\t\treturn;\n\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\te = e || window.event;\n\n\t\t\tvar ganttNode = this.globalNode;\n\n\t\t\tvar command = gantt.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\n\n\t\t\tvar activeElement = this.getActiveNode();\n\n\t\t\tif (!activeElement) {\n\t\t\t\tthis.setDefaultNode();\n\t\t\t} else if (activeElement.findHandler(command)) {\n\t\t\t\tactiveElement.doAction(command, e);\n\t\t\t} else if (ganttNode.findHandler(command)) {\n\t\t\t\tganttNode.doAction(command, e);\n\t\t\t}\n\n\t\t},\n\t\t_timeout: null,\n\t\tdelay: function(callback, delay){\n\n\t\t\tclearTimeout(this._timeout);\n\t\t\tthis._timeout = setTimeout(callback, delay || 1);\n\n\t\t}\n\t};\n\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dhtmlxgantt_keyboard_navigation.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c4a39cba6e1e70e8474e","//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = '';\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp('\\\\s?\\\\b' + name[i] + '\\\\b(?![-_\\.])', \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave = document.createElement(\"div\");\nfunction insert(node, newone) {\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\tvar trg = getTargetNode(e);\n\tvar css = '';\n\tvar test = false;\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tif (ev.pageX || ev.pageY)\n\t\tvar pos = {x: ev.pageX, y: ev.pageY};\n\n\tvar d = document.documentElement;\n\tvar pos = {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop\n\t};\n\n\tvar box = elementPosition(node);\n\tpos.x = pos.x - box.x + node.scrollLeft;\n\tpos.y = pos.y - box.y + node.scrollTop;\n\treturn pos;\n}\n\n\nfunction isChildOf(child, parent){\n\tif(!child || !parent){\n\t\treturn false;\n\t}\n\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\n\treturn child === parent;\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/utils/dom_helpers.js\n// module id = 0\n// module chunks = 0 2","(function(){\n\tfunction setupKeyNav(gantt){\n\t\tgantt.config.keyboard_navigation = true;\n\t\tgantt.config.keyboard_navigation_cells = false;\n\n\t\tgantt.addShortcut = function(shortcut, handler, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\n\t\t\t}\n\t\t};\n\n\t\tgantt.getShortcutHandler = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tvar commands = gantt.$keyboardNavigation.shortcuts.parse(shortcut);\n\t\t\t\tif(commands.length){\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tgantt.removeShortcut = function(shortcut, scope){\n\t\t\tvar scopeObject = getScope(scope);\n\t\t\tif(scopeObject){\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\n\t\t\t}\n\t\t};\n\n\t\tgantt.focus = function(){\n\n\t\t\tvar disp = gantt.$keyboardNavigation.dispatcher;\n\t\t\tdisp.enable();\n\t\t\tif(!disp.getActiveNode()){\n\t\t\t\tdisp.setDefaultNode();\n\t\t\t}else{\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\n\t\t\t}\n\n\t\t};\n\n\n\n\t\tfunction getScope(mode){\n\t\t\tvar scopes = {\n\t\t\t\t\"gantt\":gantt.$keyboardNavigation.GanttNode,\n\t\t\t\t\"headerCell\": gantt.$keyboardNavigation.HeaderCell,\n\t\t\t\t\"taskRow\": gantt.$keyboardNavigation.TaskRow,\n\t\t\t\t\"taskCell\": gantt.$keyboardNavigation.HeaderCell\n\t\t\t};\n\n\t\t\treturn scopes[mode] || scopes.gantt;\n\t\t}\n\n\t\tgantt.$keyboardNavigation = {};\n\n\t\tgantt._compose = function(){\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\n\t\t\tvar res = {};\n\t\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\t\tvar obj = parts[i];\n\t\t\t\tif(typeof obj == \"function\"){\n\t\t\t\t\tobj = new obj();\n\t\t\t\t}\n\n\t\t\t\tfor(var p in obj){\n\t\t\t\t\tres[p] = obj[p];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\n\t\trequire (\"./keyboard_navigation/common/keyboard_shortcuts\")(gantt);\n\t\trequire (\"./keyboard_navigation/common/eventhandler\")(gantt);\n\t\trequire (\"./keyboard_navigation/common/trap_modal_focus\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/gantt_node\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/nav_node\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/header_cell\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/task_row\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/task_cell\")(gantt);\n\t\trequire (\"./keyboard_navigation/modals\")(gantt);\n\t\trequire (\"./keyboard_navigation/core\")(gantt);\n\n\t\tvar domHelpers = require(\"../utils/dom_helpers\");\n\n\t\t(function(){\n\t\t\tvar dispatcher = gantt.$keyboardNavigation.dispatcher;\n\n\t\t\tdispatcher.isTaskFocused = function(id){\n\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskRow || node instanceof gantt.$keyboardNavigation.TaskCell) {\n\t\t\t\t\tif (node.taskId == id) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tvar keyDownHandler = function(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\treturn dispatcher.keyDownHandler(e);\n\t\t\t};\n\n\t\t\tvar focusHandler = function(e){\n\t\t\t\tif(dispatcher.$preventDefault){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tgantt.$container.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}else{\n\t\t\t\t\tdispatcher.focusGlobalNode();\n\t\t\t\t}\n\n\t\t\t};\n\n\n\t\t\tvar reFocusActiveNode = function(activeNode, code){\n\t\t\t\tvar domElement = activeNode.getNode();\n\t\t\t\tvar top, left;\n\t\t\t\tif(domElement && domElement.parentNode){\n\t\t\t\t\ttop = domElement.parentNode.scrollTop;\n\t\t\t\t\tleft = domElement.parentNode.scrollLeft;\n\n\t\t\t\t}\n\n\t\t\t\tcode();\n\n\t\t\t\tif(domElement && domElement.parentNode){\n\t\t\t\t\tdomElement.parentNode.scrollTop = top;\n\t\t\t\t\tdomElement.parentNode.scrollLeft = left;\n\t\t\t\t}\n\t\t\t};\n\n\n\t\t\tgantt.attachEvent(\"onDataRender\", function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\t\t\t\tif(dispatcher.isEnabled()){\n\t\t\t\t\tvar activeNode = dispatcher.getActiveNode();\n\t\t\t\t\tif(activeNode){\n\t\t\t\t\t\treFocusActiveNode(activeNode, function(){activeNode.focus(true);});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\n\t\t\t\tgantt.eventRemove(document, \"keydown\", keyDownHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"focus\", focusHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"mousedown\", mousedownHandler);\n\n\t\t\t\tif(gantt.config.keyboard_navigation){\n\n\t\t\t\t\tgantt.event(document, \"keydown\", keyDownHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"focus\", focusHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"mousedown\", mousedownHandler);\n\t\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\n\t\t\t\t}else{\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction getTaskNodeConstructor(){\n\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\treturn gantt.$keyboardNavigation.TaskCell;\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.$keyboardNavigation.TaskRow;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction mousedownHandler(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\n\t\t\t\tvar focusNode;\n\t\t\t\tvar locateTask = dispatcher.fromDomElement(e);\n\t\t\t\tif(locateTask){\n\t\t\t\t\t//var node = getTaskNodeConstructor();\n\t\t\t\t\tif(dispatcher.activeNode instanceof gantt.$keyboardNavigation.TaskCell && domHelpers.isChildOf(e.target, gantt.$task)){\n\t\t\t\t\t\tlocateTask = new gantt.$keyboardNavigation.TaskCell(locateTask.taskId, dispatcher.activeNode.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tfocusNode = locateTask;\n\t\t\t\t}\n\n\t\t\t\tif(focusNode) {\n\t\t\t\t\tif (!dispatcher.isEnabled()) {\n\t\t\t\t\t\tdispatcher.activeNode = focusNode;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatcher.delay(function () {\n\t\t\t\t\t\t\tdispatcher.setActiveNode(focusNode);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// empty click should drop focus from gantt, insert of reselecting default node\n\t\t\t\t\tdispatcher.$preventDefault = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tdispatcher.$preventDefault = false;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar onReady = gantt.attachEvent(\"onGanttReady\", function(){\n\t\t\t\t// restore focus on repainted tasks\n\t\t\t\tgantt.detachEvent(onReady);\n\n\t\t\t\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(id){\n\t\t\t\t\tvar state = gantt.getState();\n\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\tif(currentNode && currentNode.taskId == id){\n\t\t\t\t\t\t\treFocusActiveNode(currentNode, function(){dispatcher.focusNode(currentNode, true);});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(gantt._smart_render){\n\t\t\t\t\tvar updateRender = gantt._smart_render._redrawItems;\n\t\t\t\t\tgantt._smart_render._redrawItems = function(renderers, items){\n\t\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\t\tif(currentNode && currentNode.taskId !== undefined){\n\t\t\t\t\t\t\t\tvar focusedItemVisible = false;\n\t\t\t\t\t\t\t\tfor(var i = 0; i < items.length; i++){\n\t\t\t\t\t\t\t\t\tif(items[i].id == currentNode.taskId && items[i].start_date){\n\t\t\t\t\t\t\t\t\t\tfocusedItemVisible = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(!focusedItemVisible){\n\t\t\t\t\t\t\t\t\titems.push(gantt.getTask(currentNode.taskId));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar res = updateRender.apply(this, arguments);\n\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\n\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function(id,item){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tif(dispatcher.isEnabled()){\n\n\t\t\t\t\tvar columnIndex = 0;\n\t\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskCell){\n\t\t\t\t\t\tcolumnIndex = node.columnIndex;\n\t\t\t\t\t}\n\t\t\t\t\tvar nodeConstructor = getTaskNodeConstructor();\n\t\t\t\t\tdispatcher.setActiveNode(new nodeConstructor(id, columnIndex));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", function(oldId, newId){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\n\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\tif(dispatcher.isTaskFocused(oldId)){\n\t\t\t\t\tnode.taskId = newId;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tfunction getActiveNode(){\n\n\t\t\t\tvar activeElement = document.activeElement;\n\t\t\t\tif(activeElement === document.body && document.getSelection){\n\t\t\t\t\tactiveElement = document.getSelection().focusNode || document.body;\n\t\t\t\t}\n\n\t\t\t\treturn activeElement;\n\t\t\t}\n\n\t\t\tvar interval = setInterval(function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\n\t\t\t\tvar enable;\n\t\t\t\tvar focusElement = getActiveNode();\n\n\t\t\t\tvar parent = gantt.$container;\n\t\t\t\t// halt key nav when focus is outside gantt or in quick info popup\n\t\t\t\tif(!focusElement || gantt._locate_css(focusElement, \"gantt_cal_quick_info\")){\n\t\t\t\t\tenable = false;\n\t\t\t\t}else{\n\t\t\t\t\twhile(focusElement != parent &&  focusElement){\n\t\t\t\t\t\tfocusElement = focusElement.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(focusElement == parent){\n\t\t\t\t\t\tenable = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tenable = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.enable();\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.disable();\n\t\t\t\t}\n\n\t\t\t}, 500);\n\n\t\t\tgantt.attachEvent(\"onDestroy\", function(){\n\t\t\t\tclearInterval(interval);\n\t\t\t});\n\n\t\t})();\n\n\t}\n\n\n\tif(window.Gantt){\n\t\twindow.Gantt.plugin(setupKeyNav);\n\t}else{\n\t\tsetupKeyNav(window.gantt);\n\t}\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation.js\n// module id = 14\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.shortcuts = {\n\t\tcreateCommand: function () {\n\t\t\treturn {\n\t\t\t\tmodifiers: {\n\t\t\t\t\t\"shift\": false,\n\t\t\t\t\t\"alt\": false,\n\t\t\t\t\t\"ctrl\": false,\n\t\t\t\t\t\"meta\": false\n\t\t\t\t},\n\t\t\t\tkeyCode: null\n\t\t\t};\n\t\t},\n\t\tparse: function (shortcut) {\n\t\t\tvar commands = [];\n\n\t\t\tvar expr = this.getExpressions(this.trim(shortcut));\n\t\t\tfor (var i = 0; i < expr.length; i++) {\n\t\t\t\tvar words = this.getWords(expr[i]);\n\n\t\t\t\tvar command = this.createCommand();\n\n\t\t\t\tfor (var j = 0; j < words.length; j++) {\n\t\t\t\t\tif (this.commandKeys[words[j]]) {\n\t\t\t\t\t\tcommand.modifiers[words[j]] = true;\n\t\t\t\t\t} else if (this.specialKeys[words[j]]) {\n\t\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcommands.push(command);\n\t\t\t}\n\t\t\treturn commands;\n\t\t},\n\n\t\tgetCommandFromEvent: function (domEvent) {\n\t\t\tvar command = this.createCommand();\n\t\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\n\t\t\tcommand.modifiers.alt = !!domEvent.altKey;\n\t\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\n\t\t\tcommand.modifiers.meta = !!domEvent.metaKey;\n\t\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\n\n\t\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\n\t\t\t\t// numpad keys 96-105 -> 48-57\n\t\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\n\t\t\t}\n\n\t\t\tvar printableKey = String.fromCharCode(command.keyCode);\n\t\t\tif (printableKey) {\n\t\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\n\t\t\t}\n\t\t\treturn command;\n\t\t},\n\n\t\tgetHashFromEvent: function (domEvent) {\n\t\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\n\t\t},\n\n\t\tgetHash: function (command) {\n\t\t\tvar parts = [];\n\t\t\tfor (var i in command.modifiers) {\n\t\t\t\tif (command.modifiers[i]) {\n\t\t\t\t\tparts.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts.push(command.keyCode);\n\n\t\t\treturn parts.join(this.junctionChar);\n\t\t},\n\n\t\tgetExpressions: function (shortcut) {\n\t\t\treturn shortcut.split(this.junctionChar);\n\t\t},\n\t\tgetWords: function (term) {\n\t\t\treturn term.split(this.combinationChar);\n\t\t},\n\t\ttrim: function (shortcut) {\n\t\t\treturn shortcut.replace(/\\s/g, \"\");\n\t\t},\n\t\tjunctionChar: \",\",\n\t\tcombinationChar: \"+\",\n\t\tcommandKeys: {\n\t\t\t\"shift\": 16,\n\t\t\t\"alt\": 18,\n\t\t\t\"ctrl\": 17,\n\t\t\t\"meta\": true\n\t\t},\n\t\tspecialKeys: {\n\t\t\t\"backspace\": 8,\n\t\t\t\"tab\": 9,\n\t\t\t\"enter\": 13,\n\t\t\t\"esc\": 27,\n\t\t\t\"space\": 32,\n\t\t\t\"up\": 38,\n\t\t\t\"down\": 40,\n\t\t\t\"left\": 37,\n\t\t\t\"right\": 39,\n\t\t\t\"home\": 36,\n\t\t\t\"end\": 35,\n\t\t\t\"pageup\": 33,\n\t\t\t\"pagedown\": 34,\n\t\t\t\"delete\": 46,\n\t\t\t\"insert\": 45,\n\t\t\t\"plus\": 107,\n\t\t\t\"f1\": 112,\n\t\t\t\"f2\": 113,\n\t\t\t\"f3\": 114,\n\t\t\t\"f4\": 115,\n\t\t\t\"f5\": 116,\n\t\t\t\"f6\": 117,\n\t\t\t\"f7\": 118,\n\t\t\t\"f8\": 119,\n\t\t\t\"f9\": 120,\n\t\t\t\"f10\": 121,\n\t\t\t\"f11\": 122,\n\t\t\t\"f12\": 123\n\t\t}\n\t};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/keyboard_shortcuts.js\n// module id = 15\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.EventHandler = {\n\t\t_handlers: null,\n\t\tfindHandler: function (command) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\t\t\tvar hash = shortcuts.getHash(command);\n\n\t\t\treturn this._handlers[hash];\n\t\t},\n\n\t\tdoAction: function (command, e) {\n\t\t\tvar handler = this.findHandler(command);\n\t\t\tif (handler) {\n\t\t\t\thandler.call(this, e);\n\n\t\t\t\tif (e.preventDefault) e.preventDefault();\n\t\t\t\telse e.returnValue = false;\n\n\t\t\t}\n\t\t},\n\t\tbind: function (shortcut, handler) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\n\t\t\t}\n\t\t},\n\t\tunbind: function (shortcut) {\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tif (this._handlers[shortcuts.getHash(commands[i])]) {\n\t\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tbindAll: function (map) {\n\t\t\tfor (var i in map) {\n\t\t\t\tthis.bind(i, map[i]);\n\t\t\t}\n\t\t},\n\t\tinitKeys: function () {\n\t\t\tif (!this._handlers)\n\t\t\t\tthis._handlers = {};\n\t\t\tif (this.keys) {\n\t\t\t\tthis.bindAll(this.keys);\n\t\t\t}\n\t\t}\n\t};\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/eventhandler.js\n// module id = 16\n// module chunks = 0","module.exports = function(gantt) {\n\n\t(function () {\n\t\tvar domHelpers = require(\"../../../utils/dom_helpers\");\n\t\tgantt.$keyboardNavigation.getFocusableNodes = domHelpers.getFocusableNodes;\n\n\t\tgantt.$keyboardNavigation.trapFocus = function trapFocus(root, e) {\n\t\t\tif (e.keyCode != 9) return false;\n\n\t\t\tvar focusable = gantt.$keyboardNavigation.getFocusableNodes(root);\n\t\t\tvar currentFocus = document.activeElement;\n\t\t\tvar currentIndex = -1;\n\t\t\tfor (var i = 0; i < focusable.length; i++) {\n\t\t\t\tif (focusable[i] == currentFocus) {\n\t\t\t\t\tcurrentIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.shiftKey) {\n\t\t\t\t// back tab\n\t\t\t\tif (currentIndex <= 0) {\n\t\t\t\t\t// go to the last element if we focused on the first\n\t\t\t\t\tvar lastItem = focusable[focusable.length - 1];\n\t\t\t\t\tif (lastItem) {\n\t\t\t\t\t\tlastItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// forward tab\n\t\t\t\tif (currentIndex >= focusable.length - 1) {\n\t\t\t\t\t// forward tab from last element should go back to the first element\n\t\t\t\t\tvar firstItem = focusable[0];\n\t\t\t\t\tif (firstItem) {\n\t\t\t\t\t\tfirstItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t})();\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/common/trap_modal_focus.js\n// module id = 17\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.GanttNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.GanttNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\n\t\t\tfocus: function () {\n\t\t\t\tgantt.focus();\n\t\t\t},\n\n\t\t\tblur: function () {\n\n\t\t\t},\n\n\t\t\tdisable: function () {\n\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\t\t\t},\n\t\t\tenable: function () {\n\t\t\t\tif (gantt.$container)\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t},\n\t\t\tisEnabled: function () {\n\t\t\t\treturn gantt.$container.hasAttribute(\"tabindex\");\n\t\t\t},\n\n\t\t\tscrollHorizontal: function scrollHorizontal(dir) {\n\t\t\t\tvar date = gantt.dateFromPos(gantt.getScrollState().x);\n\t\t\t\tvar step = dir < 0 ? -gantt.config.step : gantt.config.step;\n\t\t\t\tdate = gantt.date.add(date, step, gantt.config.scale_unit);\n\t\t\t\tgantt.scrollTo(gantt.posFromDate(date));\n\t\t\t},\n\n\t\t\tscrollVertical: function scrollVertical(dir) {\n\t\t\t\tvar top = gantt.getScrollState().y;\n\t\t\t\tvar step = gantt.config.row_height;\n\t\t\t\tgantt.scrollTo(null, top + (dir < 0 ? -1 : 1) * step);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"alt+left\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+right\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(1);\n\t\t\t\t},\n\t\t\t\t\"alt+up\": function (e) {\n\t\t\t\t\tthis.scrollVertical(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+down\": function (e) {\n\t\t\t\t\tthis.scrollVertical(1);\n\t\t\t\t},\n\n\t\t\t\t// undo\n\t\t\t\t\"ctrl+z\": function () {\n\t\t\t\t\tif (gantt.undo) gantt.undo();\n\t\t\t\t},\n\n\t\t\t\t// redo\n\t\t\t\t\"ctrl+r\": function () {\n\t\t\t\t\tif (gantt.redo) gantt.redo();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.GanttNode.prototype.bindAll(gantt.$keyboardNavigation.GanttNode.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/gantt_node.js\n// module id = 18\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.KeyNavNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.KeyNavNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\t\t\tisValid: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tmoveTo: function (element) {\n\t\t\t\tgantt.$keyboardNavigation.dispatcher.setActiveNode(element);\n\t\t\t},\n\n\t\t\tcompareTo: function (b) {\n\t\t\t\t// good enough comparison of two random objects\n\t\t\t\tif (!b) return false;\n\t\t\t\tfor (var i in this) {\n\t\t\t\t\tif (!!this[i] != !!b[i]) return false;\n\n\t\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\n\t\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\n\t\t\t\t\tif (canStringifyThat != canStringifyThis) return false;\n\t\t\t\t\tif (!(canStringifyThat && canStringifyThis)) {\n\t\t\t\t\t\tif (b[i] != this[i]) return false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (b[i].toString() != this[i].toString())\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t},\n\t\t\tfocus: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\tif(!node.$eventAttached){\n\t\t\t\t\t\tnode.$eventAttached = true;\n\t\t\t\t\t\tgantt.event(node, \"focus\",function(e){\n\t\t\t\t\t\t\te = e || event;\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}, false);\n\t\t\t\t\t}\n\t\t\t\t\t//node.className += \" gantt_focused\";\n\t\t\t\t\tif (node.focus) node.focus();\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tblur: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\t//node.className = (node.className || \"\").replace(/ ?gantt_focused/g, \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/nav_node.js\n// module id = 19\n// module chunks = 0","module.exports = function(gantt) {\n\tvar domHelpers = require(\"../../../utils/dom_helpers\");\n\n\tgantt.$keyboardNavigation.HeaderCell = function (index) {\n\t\tthis.index = index || 0;\n\t};\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\n\t\t\tisValid: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount())\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !!gantt.getGridColumns()[this.index] || !gantt.getVisibleTaskCount();\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow();\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\tvar index = this.index;\n\t\t\t\twhile (index >= 0) {\n\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tvar cellElement = domHelpers.locateClassName(el, \"gantt_grid_head_cell\");\n\t\t\t\tif(cellElement){\n\t\t\t\t\tvar index = 0;\n\t\t\t\t\twhile(cellElement && cellElement.previousSibling){\n\t\t\t\t\t\tcellElement = cellElement.previousSibling;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tvar cells = gantt.$grid_scale.childNodes;\n\t\t\t\treturn cells[this.index];\n\t\t\t},\n\n\n\t\t\tkeys: {\n\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.index > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.index < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar taskRow;\n\t\t\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\t\t\tif (rootLevel[0]) {\n\t\t\t\t\t\ttaskRow = rootLevel[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (taskRow) {\n\t\t\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(taskRow, this.index));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(taskRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(0));\n\t\t\t\t},\n\n\n\t\t\t\t// press header button\n\t\t\t\t\"enter, space\": function () {\n\t\t\t\t\tvar node = document.activeElement;\n\t\t\t\t\tnode.click();\n\t\t\t\t},\n\n\t\t\t\t// add new task\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype.bindAll(gantt.$keyboardNavigation.HeaderCell.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/header_cell.js\n// module id = 20\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.TaskRow = function (taskId) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tif (gantt.isTaskExists(this.taskId)) {\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t\t}\n\t};\n\n\tgantt.$keyboardNavigation.TaskRow.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\t\t\t\treturn gantt.isTaskExists(this.taskId) && (gantt.getTaskIndex(this.taskId) > -1);\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.getVisibleTaskCount()) {\n\t\t\t\t\tvar header = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\tif (!header.isValid()) return null;\n\t\t\t\t\telse return header;\n\t\t\t\t} else {\n\n\t\t\t\t\tvar nextIndex = -1;\n\t\t\t\t\tif (gantt.getTaskByIndex(this.index - 1)) {\n\t\t\t\t\t\tnextIndex = this.index - 1;\n\t\t\t\t\t} else if (gantt.getTaskByIndex(this.index + 1)) {\n\t\t\t\t\t\tnextIndex = this.index + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar index = this.index;\n\t\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\t\tif (gantt.getTaskByIndex(index) !== undefined) {\n\t\t\t\t\t\t\t\tnextIndex = index;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (nextIndex > -1) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(nextIndex).id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tif(gantt.config.keyboard_navigation_cells){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar taskId = gantt.locate(el);\n\t\t\t\tif(gantt.isTaskExists(taskId)){\n\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(taskId);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\treturn gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfocus: function (keptFocus) {\n\t\t\t\tif(!keptFocus) {\n\t\t\t\t\tvar pos = gantt.getTaskPosition(gantt.getTask(this.taskId));\n\t\t\t\t\tvar height = gantt.config.row_height;\n\t\t\t\t\tvar scroll = gantt.getScrollState();\n\n\t\t\t\t\tvar viewWidth;\n\t\t\t\t\tif(gantt.$task){\n\t\t\t\t\t\tviewWidth = gantt.$task.offsetWidth;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tviewWidth = scroll.inner_width;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar viewHeight;\n\t\t\t\t\tif(gantt.$grid_data || gantt.$task_data){\n\t\t\t\t\t\tviewHeight = (gantt.$grid_data || gantt.$task_data).offsetHeight;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tviewHeight = scroll.inner_height;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (pos.top < scroll.y || pos.top + height > (scroll.y + viewHeight)) {\n\n\t\t\t\t\t\tgantt.scrollTo(null, pos.top - height * 5);\n\n\t\t\t\t\t} else if (gantt.config.show_chart && (pos.left < scroll.x || pos.left > (scroll.x + viewWidth))) {\n\t\t\t\t\t\tgantt.scrollTo(pos.left - gantt.config.task_scroll_offset);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgantt.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this, [keptFocus]);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(0).id));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"up\": function () {\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskRow(prevTask);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(nextTask));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// select\n\t\t\t\t\"space\": function (e) {\n\t\t\t\t\tif (gantt.getState().selected_task != this.taskId) {\n\t\t\t\t\t\tgantt.selectTask(this.taskId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt.unselectTask(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// collapse\n\t\t\t\t\"ctrl+left\": function (e) {\n\t\t\t\t\tgantt.close(this.taskId);\n\t\t\t\t},\n\t\t\t\t// expand\n\t\t\t\t\"ctrl+right\": function (e) {\n\t\t\t\t\tgantt.open(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// delete task\n\t\t\t\t\"delete\": function (e) {\n\t\t\t\t\tgantt.$click.buttons[\"delete\"](this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// open lightbox\n\t\t\t\t\"enter\": function () {\n\t\t\t\t\tgantt.showLightbox(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// add subtask\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\tgantt.$keyboardNavigation.TaskRow.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/task_row.js\n// module id = 21\n// module chunks = 0","module.exports = function(gantt) {\n\tvar domHelpers = require(\"../../../utils/dom_helpers\");\n\n\tgantt.$keyboardNavigation.TaskCell = function (taskId, index) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tthis.columnIndex = index || 0;\n\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t};\n\n\tgantt.$keyboardNavigation.TaskCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\n\t\t\t\treturn gantt.$keyboardNavigation.TaskRow.prototype.isValid.call(this) && !!gantt.getGridColumns()[this.columnIndex];\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tvar node = gantt.$keyboardNavigation.TaskRow.prototype.fallback.call(this);\n\t\t\t\tif (node instanceof gantt.$keyboardNavigation.TaskRow) {\n\t\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\t\tvar index = this.columnIndex;\n\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t}\n\t\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(node.taskId, index);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tif(!gantt.config.keyboard_navigation_cells){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar taskId = gantt.locate(el);\n\t\t\t\tif(gantt.isTaskExists(taskId)){\n\t\t\t\t\tvar index = 0;\n\t\t\t\t\tvar cellElement = domHelpers.locateClassName(el, \"gantt_cell\");\n\t\t\t\t\tif(cellElement){\n\t\t\t\t\t\twhile(cellElement && cellElement.previousSibling){\n\t\t\t\t\t\t\tcellElement = cellElement.previousSibling;\n\t\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(taskId, index);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\tvar row = gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t\treturn row.childNodes[this.columnIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"up\": function () {\n\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!prevTask) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell(this.columnIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskCell(prevTask, this.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (nextTask) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(nextTask, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.columnIndex > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.columnIndex < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, 0));\n\t\t\t\t},\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(0).id, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskCell.prototype.keys);\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/elements/task_cell.js\n// module id = 22\n// module chunks = 0","module.exports = function(gantt) {\n\n\t(function () {\n\t\tvar modalsStack = [];\n\n\t\tfunction isModal() {\n\t\t\treturn !!modalsStack.length;\n\t\t}\n\n\t\tfunction afterPopup(box) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!isModal())\n\t\t\t\t\tgantt.focus();\n\t\t\t}, 1);\n\t\t}\n\n\t\tfunction startModal(box) {\n\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\tgantt.event(box, \"keydown\", trapFocus);\n\t\t\tmodalsStack.push(box);\n\t\t\t//gantt.$keyboardNavigation.dispatcher.disable();\n\t\t}\n\n\t\tfunction endModal() {\n\t\t\tvar box = modalsStack.pop();\n\t\t\tif (box) {\n\t\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\t}\n\t\t\tafterPopup(box);\n\n\t\t}\n\n\n\t\tfunction isTopModal(box) {\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\n\t\t}\n\n\t\tfunction trapFocus(event) {\n\t\t\tvar event = event || window.event;\n\t\t\tvar target = event.currentTarget;\n\t\t\tif (!isTopModal(target)) return;\n\n\t\t\tgantt.$keyboardNavigation.trapFocus(target, event);\n\t\t}\n\n\t\tfunction traceLightbox() {\n\t\t\tstartModal(gantt.getLightbox());\n\t\t}\n\n\t\tgantt.attachEvent(\"onLightbox\", traceLightbox);\n\t\tgantt.attachEvent(\"onAfterLightbox\", endModal);\n\t\tgantt.attachEvent(\"onLightboxChange\", function () {\n\t\t\tendModal();\n\t\t\ttraceLightbox();\n\t\t});\n\n\n\t\tgantt.attachEvent(\"onAfterQuickInfo\", function () {\n\t\t\tafterPopup();\n\t\t});\n\n\t\tgantt.attachEvent(\"onMessagePopup\", function (box) {\n\t\t\tsaveFocus();\n\t\t\tstartModal(box);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterMessagePopup\", function () {\n\t\t\tendModal();\n\t\t\trestoreFocus();\n\t\t});\n\n\t\tvar focusElement = null;\n\n\t\tfunction saveFocus() {\n\t\t\tfocusElement = document.activeElement;\n\t\t}\n\n\t\tfunction restoreFocus() {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (focusElement) {\n\t\t\t\t\tfocusElement.focus();\n\t\t\t\t\tfocusElement = null;\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\n\t\tgantt.$keyboardNavigation.isModal = isModal;\n\n\n\t})();\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/modals.js\n// module id = 23\n// module chunks = 0","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.dispatcher = {\n\t\tisActive: false,\n\t\tactiveNode: null,\n\t\tglobalNode: new gantt.$keyboardNavigation.GanttNode(),\n\n\t\tenable: function () {\n\t\t\tthis.isActive = true;\n\t\t\tthis.globalNode.enable();\n\t\t\tthis.setActiveNode(this.getActiveNode());\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tthis.isActive = false;\n\t\t\tthis.globalNode.disable();\n\t\t},\n\n\t\tisEnabled: function () {\n\t\t\treturn !!this.isActive;\n\t\t},\n\n\t\tgetDefaultNode: function () {\n\t\t\tvar node;\n\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskCell();\n\t\t\t} else {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskRow();\n\t\t\t}\n\n\t\t\tif (!node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tsetDefaultNode: function () {\n\t\t\tthis.setActiveNode(this.getDefaultNode());\n\t\t},\n\n\t\tgetActiveNode: function () {\n\t\t\tvar node = this.activeNode;\n\t\t\tif (node && !node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tfromDomElement: function(e){\n\t\t\tvar inputs = [\n\t\t\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t\t\tgantt.$keyboardNavigation.TaskCell,\n\t\t\t\tgantt.$keyboardNavigation.HeaderCell\n\t\t\t];\n\t\t\tfor(var i = 0; i < inputs.length; i++){\n\t\t\t\tif(inputs[i].prototype.fromDomElement){\n\t\t\t\t\tvar node = inputs[i].prototype.fromDomElement(e);\n\t\t\t\t\tif(node) return node;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tfocusGlobalNode: function () {\n\t\t\tthis.blurNode(this.globalNode);\n\t\t\tthis.focusNode(this.globalNode);\n\t\t},\n\n\t\tsetActiveNode: function (el) {\n\t\t\tvar focusChanged = true;\n\t\t\tif (this.activeNode) {\n\t\t\t\tif (this.activeNode.compareTo(el)) {\n\t\t\t\t\tfocusChanged = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isEnabled()) {\n\t\t\t\tif(focusChanged)\n\t\t\t\t\tthis.blurNode(this.activeNode);\n\n\t\t\t\tthis.activeNode = el;\n\t\t\t\tthis.focusNode(this.activeNode, !focusChanged);\n\t\t\t}\n\t\t},\n\n\t\tfocusNode: function (el, keptFocus) {\n\t\t\tif (el && el.focus) {\n\t\t\t\tel.focus(keptFocus);\n\t\t\t}\n\t\t},\n\t\tblurNode: function (el) {\n\t\t\tif (el && el.blur) {\n\t\t\t\tel.blur();\n\t\t\t}\n\t\t},\n\n\t\tkeyDownHandler: function (e) {\n\n\t\t\tif (gantt.$keyboardNavigation.isModal())\n\t\t\t\treturn;\n\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\te = e || window.event;\n\n\t\t\tvar ganttNode = this.globalNode;\n\n\t\t\tvar command = gantt.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\n\n\t\t\tvar activeElement = this.getActiveNode();\n\n\t\t\tif (!activeElement) {\n\t\t\t\tthis.setDefaultNode();\n\t\t\t} else if (activeElement.findHandler(command)) {\n\t\t\t\tactiveElement.doAction(command, e);\n\t\t\t} else if (ganttNode.findHandler(command)) {\n\t\t\t\tganttNode.doAction(command, e);\n\t\t\t}\n\n\t\t},\n\t\t_timeout: null,\n\t\tdelay: function(callback, delay){\n\n\t\t\tclearTimeout(this._timeout);\n\t\t\tthis._timeout = setTimeout(callback, delay || 1);\n\n\t\t}\n\t};\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sources/ext/keyboard_navigation/core.js\n// module id = 24\n// module chunks = 0"],"sourceRoot":""}